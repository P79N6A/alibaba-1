<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sun3d.why.dao.CcpVolunteerApplyMapper">
  <resultMap id="BaseResultMap" type="com.culturecloud.model.bean.volunteer.CcpVolunteerApply">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 26 10:01:38 CST 2016.
    -->
    <id column="volunteer_apply_id" jdbcType="VARCHAR" property="volunteerApplyId" />
    <result column="volunteer_real_name" jdbcType="VARCHAR" property="volunteerRealName" />
    <result column="volunteer_mobile" jdbcType="VARCHAR" property="volunteerMobile" />
    <result column="volunteer_age" jdbcType="INTEGER" property="volunteerAge" />
    <result column="volunteer_sex" jdbcType="INTEGER" property="volunteerSex" />
    <result column="volunteer_degree" jdbcType="VARCHAR" property="volunteerDegree" />
    <result column="volunteer_introduction" jdbcType="VARCHAR" property="volunteerIntroduction" />
    <result column="apply_date_time" jdbcType="TIMESTAMP" property="applyDateTime" />
    <result column="apply_status" jdbcType="INTEGER" property="applyStatus" />
    <result column="recruit_id" jdbcType="VARCHAR" property="recruitId" />
    <result column="user_id" jdbcType="VARCHAR" property="userId" />
    <result column="apply_operator_id" jdbcType="VARCHAR" property="applyOperatorId" />
   
  </resultMap>
  
  <resultMap type="com.sun3d.why.dao.dto.CcpVolunteerApplyDto" id="BaseResultDtoMap" extends="BaseResultMap">
   
    <!-- 申请人账号 -->
    <result column="USER_NAME" property="userName" jdbcType="VARCHAR" />
    <!-- 学历名称 -->
    <result column="dict_name" property="dictName" jdbcType="VARCHAR"/>
	<!-- 招募场次名称 -->   
	<result column="recruit_name" property="recruitName" jdbcType="VARCHAR"/>  
  
  </resultMap>
  
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 26 10:01:38 CST 2016.
    -->
    volunteer_apply_id, volunteer_real_name,volunteer_mobile, volunteer_age, volunteer_sex, volunteer_degree, 
    volunteer_introduction, apply_date_time, apply_status, recruit_id, user_id, apply_operator_id
  </sql>
  
  <select id="queryCcpVolunteerApplyByMap" resultMap="BaseResultDtoMap" parameterType="java.util.Map">
  	
  	   select 
    a.volunteer_apply_id, a.volunteer_real_name,a.volunteer_mobile, a.volunteer_age, a.volunteer_sex, a.volunteer_degree, 
    a.volunteer_introduction,a.apply_date_time, a.apply_status, a.recruit_id, a.user_id, a.apply_operator_id,
    u.USER_NAME,d.dict_name,r.recruit_name
    from ccp_volunteer_apply a
    
   	LEFT JOIN cms_terminal_user u on u.user_id = a.user_id
    
    LEFT JOIN sys_dict d ON a.volunteer_degree = d.dict_id
    
    LEFT JOIN ccp_volunteer_recruit r on r.recruit_id = a.recruit_id
  	
  	order by a.apply_date_time
  	
  	<if test="firstResult!=null">
  		limit #{firstResult},#{rows}
  	</if>
  </select>
  
  
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 26 10:01:38 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from ccp_volunteer_apply
    where volunteer_apply_id = #{volunteerApplyId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Aug 26 10:01:38 CST 2016.
    -->
    delete from ccp_volunteer_apply
    where volunteer_apply_id = #{volunteerApplyId,jdbcType=VARCHAR}
  </delete>
 <insert id="insert" parameterType="com.culturecloud.model.bean.volunteer.CcpVolunteerApply">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 31 11:03:11 CST 2016.
    -->
    insert into ccp_volunteer_apply (volunteer_apply_id, volunteer_real_name, 
      volunteer_mobile, volunteer_age, volunteer_sex, 
      volunteer_degree, volunteer_introduction, 
      apply_date_time, apply_status, recruit_id, 
      user_id, apply_operator_id)
    values (#{volunteerApplyId,jdbcType=VARCHAR}, #{volunteerRealName,jdbcType=VARCHAR}, 
      #{volunteerMobile,jdbcType=VARCHAR}, #{volunteerAge,jdbcType=INTEGER}, #{volunteerSex,jdbcType=INTEGER}, 
      #{volunteerDegree,jdbcType=VARCHAR}, #{volunteerIntroduction,jdbcType=VARCHAR}, 
      #{applyDateTime,jdbcType=TIMESTAMP}, #{applyStatus,jdbcType=INTEGER}, #{recruitId,jdbcType=VARCHAR}, 
      #{userId,jdbcType=VARCHAR}, #{applyOperatorId,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.culturecloud.model.bean.volunteer.CcpVolunteerApply">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 31 11:03:11 CST 2016.
    -->
    insert into ccp_volunteer_apply
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="volunteerApplyId != null">
        volunteer_apply_id,
      </if>
      <if test="volunteerRealName != null">
        volunteer_real_name,
      </if>
      <if test="volunteerMobile != null">
        volunteer_mobile,
      </if>
      <if test="volunteerAge != null">
        volunteer_age,
      </if>
      <if test="volunteerSex != null">
        volunteer_sex,
      </if>
      <if test="volunteerDegree != null">
        volunteer_degree,
      </if>
      <if test="volunteerIntroduction != null">
        volunteer_introduction,
      </if>
      <if test="applyDateTime != null">
        apply_date_time,
      </if>
      <if test="applyStatus != null">
        apply_status,
      </if>
      <if test="recruitId != null">
        recruit_id,
      </if>
      <if test="userId != null">
        user_id,
      </if>
      <if test="applyOperatorId != null">
        apply_operator_id,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="volunteerApplyId != null">
        #{volunteerApplyId,jdbcType=VARCHAR},
      </if>
      <if test="volunteerRealName != null">
        #{volunteerRealName,jdbcType=VARCHAR},
      </if>
      <if test="volunteerMobile != null">
        #{volunteerMobile,jdbcType=VARCHAR},
      </if>
      <if test="volunteerAge != null">
        #{volunteerAge,jdbcType=INTEGER},
      </if>
      <if test="volunteerSex != null">
        #{volunteerSex,jdbcType=INTEGER},
      </if>
      <if test="volunteerDegree != null">
        #{volunteerDegree,jdbcType=VARCHAR},
      </if>
      <if test="volunteerIntroduction != null">
        #{volunteerIntroduction,jdbcType=VARCHAR},
      </if>
      <if test="applyDateTime != null">
        #{applyDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="applyStatus != null">
        #{applyStatus,jdbcType=INTEGER},
      </if>
      <if test="recruitId != null">
        #{recruitId,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        #{userId,jdbcType=VARCHAR},
      </if>
      <if test="applyOperatorId != null">
        #{applyOperatorId,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.culturecloud.model.bean.volunteer.CcpVolunteerApply">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 31 11:03:11 CST 2016.
    -->
    update ccp_volunteer_apply
    <set>
      <if test="volunteerRealName != null">
        volunteer_real_name = #{volunteerRealName,jdbcType=VARCHAR},
      </if>
      <if test="volunteerMobile != null">
        volunteer_mobile = #{volunteerMobile,jdbcType=VARCHAR},
      </if>
      <if test="volunteerAge != null">
        volunteer_age = #{volunteerAge,jdbcType=INTEGER},
      </if>
      <if test="volunteerSex != null">
        volunteer_sex = #{volunteerSex,jdbcType=INTEGER},
      </if>
      <if test="volunteerDegree != null">
        volunteer_degree = #{volunteerDegree,jdbcType=VARCHAR},
      </if>
      <if test="volunteerIntroduction != null">
        volunteer_introduction = #{volunteerIntroduction,jdbcType=VARCHAR},
      </if>
      <if test="applyDateTime != null">
        apply_date_time = #{applyDateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="applyStatus != null">
        apply_status = #{applyStatus,jdbcType=INTEGER},
      </if>
      <if test="recruitId != null">
        recruit_id = #{recruitId,jdbcType=VARCHAR},
      </if>
      <if test="userId != null">
        user_id = #{userId,jdbcType=VARCHAR},
      </if>
      <if test="applyOperatorId != null">
        apply_operator_id = #{applyOperatorId,jdbcType=VARCHAR},
      </if>
    </set>
    where volunteer_apply_id = #{volunteerApplyId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.culturecloud.model.bean.volunteer.CcpVolunteerApply">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 31 11:03:11 CST 2016.
    -->
    update ccp_volunteer_apply
    set volunteer_real_name = #{volunteerRealName,jdbcType=VARCHAR},
      volunteer_mobile = #{volunteerMobile,jdbcType=VARCHAR},
      volunteer_age = #{volunteerAge,jdbcType=INTEGER},
      volunteer_sex = #{volunteerSex,jdbcType=INTEGER},
      volunteer_degree = #{volunteerDegree,jdbcType=VARCHAR},
      volunteer_introduction = #{volunteerIntroduction,jdbcType=VARCHAR},
      apply_date_time = #{applyDateTime,jdbcType=TIMESTAMP},
      apply_status = #{applyStatus,jdbcType=INTEGER},
      recruit_id = #{recruitId,jdbcType=VARCHAR},
      user_id = #{userId,jdbcType=VARCHAR},
      apply_operator_id = #{applyOperatorId,jdbcType=VARCHAR}
    where volunteer_apply_id = #{volunteerApplyId,jdbcType=VARCHAR}
  </update>
</mapper>