<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.culturecloud.dao.common.CmsTagMapper" >
  <resultMap id="BaseResultMap" type="com.culturecloud.model.bean.common.CmsTag" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    <id column="TAG_ID" property="tagId" jdbcType="VARCHAR" />
    <result column="TAG_NAME" property="tagName" jdbcType="VARCHAR" />
    <result column="TAG_TYPE" property="tagType" jdbcType="VARCHAR" />
    <result column="TAG_SEARCH_STR" property="tagSearchStr" jdbcType="VARCHAR" />
    <result column="TAG_CREATE_USER" property="tagCreateUser" jdbcType="VARCHAR" />
    <result column="TAG_CREATE_TIME" property="tagCreateTime" jdbcType="TIMESTAMP" />
    <result column="TAG_UPDATE_USER" property="tagUpdateUser" jdbcType="VARCHAR" />
    <result column="TAG_UPDATE_TIME" property="tagUpdateTime" jdbcType="TIMESTAMP" />
    <result column="TAG_DEPT" property="tagDept" jdbcType="VARCHAR" />
    <result column="TAG_IS_DELETE" property="tagIsDelete" jdbcType="INTEGER" />
    <result column="TAG_IMAGE_URL" property="tagImageUrl" jdbcType="VARCHAR" />
    <result column="TAG_RECOMMEND" property="tagRecommend" jdbcType="INTEGER" />
    <result column="TAG_COLOR" property="tagColor" jdbcType="VARCHAR" />
    <result column="TAG_INITIAL" property="tagInitial" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    TAG_ID, TAG_NAME, TAG_TYPE, TAG_SEARCH_STR, TAG_CREATE_USER, TAG_CREATE_TIME, TAG_UPDATE_USER, 
    TAG_UPDATE_TIME, TAG_DEPT, TAG_IS_DELETE, TAG_IMAGE_URL, TAG_RECOMMEND, TAG_COLOR, 
    TAG_INITIAL
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from cms_tag
    where TAG_ID = #{tagId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    delete from cms_tag
    where TAG_ID = #{tagId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.culturecloud.model.bean.common.CmsTag" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    insert into cms_tag (TAG_ID, TAG_NAME, TAG_TYPE, 
      TAG_SEARCH_STR, TAG_CREATE_USER, TAG_CREATE_TIME, 
      TAG_UPDATE_USER, TAG_UPDATE_TIME, TAG_DEPT, 
      TAG_IS_DELETE, TAG_IMAGE_URL, TAG_RECOMMEND, 
      TAG_COLOR, TAG_INITIAL)
    values (#{tagId,jdbcType=VARCHAR}, #{tagName,jdbcType=VARCHAR}, #{tagType,jdbcType=VARCHAR}, 
      #{tagSearchStr,jdbcType=VARCHAR}, #{tagCreateUser,jdbcType=VARCHAR}, #{tagCreateTime,jdbcType=TIMESTAMP}, 
      #{tagUpdateUser,jdbcType=VARCHAR}, #{tagUpdateTime,jdbcType=TIMESTAMP}, #{tagDept,jdbcType=VARCHAR}, 
      #{tagIsDelete,jdbcType=INTEGER}, #{tagImageUrl,jdbcType=VARCHAR}, #{tagRecommend,jdbcType=INTEGER}, 
      #{tagColor,jdbcType=VARCHAR}, #{tagInitial,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.culturecloud.model.bean.common.CmsTag" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    insert into cms_tag
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="tagId != null" >
        TAG_ID,
      </if>
      <if test="tagName != null" >
        TAG_NAME,
      </if>
      <if test="tagType != null" >
        TAG_TYPE,
      </if>
      <if test="tagSearchStr != null" >
        TAG_SEARCH_STR,
      </if>
      <if test="tagCreateUser != null" >
        TAG_CREATE_USER,
      </if>
      <if test="tagCreateTime != null" >
        TAG_CREATE_TIME,
      </if>
      <if test="tagUpdateUser != null" >
        TAG_UPDATE_USER,
      </if>
      <if test="tagUpdateTime != null" >
        TAG_UPDATE_TIME,
      </if>
      <if test="tagDept != null" >
        TAG_DEPT,
      </if>
      <if test="tagIsDelete != null" >
        TAG_IS_DELETE,
      </if>
      <if test="tagImageUrl != null" >
        TAG_IMAGE_URL,
      </if>
      <if test="tagRecommend != null" >
        TAG_RECOMMEND,
      </if>
      <if test="tagColor != null" >
        TAG_COLOR,
      </if>
      <if test="tagInitial != null" >
        TAG_INITIAL,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="tagId != null" >
        #{tagId,jdbcType=VARCHAR},
      </if>
      <if test="tagName != null" >
        #{tagName,jdbcType=VARCHAR},
      </if>
      <if test="tagType != null" >
        #{tagType,jdbcType=VARCHAR},
      </if>
      <if test="tagSearchStr != null" >
        #{tagSearchStr,jdbcType=VARCHAR},
      </if>
      <if test="tagCreateUser != null" >
        #{tagCreateUser,jdbcType=VARCHAR},
      </if>
      <if test="tagCreateTime != null" >
        #{tagCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tagUpdateUser != null" >
        #{tagUpdateUser,jdbcType=VARCHAR},
      </if>
      <if test="tagUpdateTime != null" >
        #{tagUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tagDept != null" >
        #{tagDept,jdbcType=VARCHAR},
      </if>
      <if test="tagIsDelete != null" >
        #{tagIsDelete,jdbcType=INTEGER},
      </if>
      <if test="tagImageUrl != null" >
        #{tagImageUrl,jdbcType=VARCHAR},
      </if>
      <if test="tagRecommend != null" >
        #{tagRecommend,jdbcType=INTEGER},
      </if>
      <if test="tagColor != null" >
        #{tagColor,jdbcType=VARCHAR},
      </if>
      <if test="tagInitial != null" >
        #{tagInitial,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.culturecloud.model.bean.common.CmsTag" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    update cms_tag
    <set >
      <if test="tagName != null" >
        TAG_NAME = #{tagName,jdbcType=VARCHAR},
      </if>
      <if test="tagType != null" >
        TAG_TYPE = #{tagType,jdbcType=VARCHAR},
      </if>
      <if test="tagSearchStr != null" >
        TAG_SEARCH_STR = #{tagSearchStr,jdbcType=VARCHAR},
      </if>
      <if test="tagCreateUser != null" >
        TAG_CREATE_USER = #{tagCreateUser,jdbcType=VARCHAR},
      </if>
      <if test="tagCreateTime != null" >
        TAG_CREATE_TIME = #{tagCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tagUpdateUser != null" >
        TAG_UPDATE_USER = #{tagUpdateUser,jdbcType=VARCHAR},
      </if>
      <if test="tagUpdateTime != null" >
        TAG_UPDATE_TIME = #{tagUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="tagDept != null" >
        TAG_DEPT = #{tagDept,jdbcType=VARCHAR},
      </if>
      <if test="tagIsDelete != null" >
        TAG_IS_DELETE = #{tagIsDelete,jdbcType=INTEGER},
      </if>
      <if test="tagImageUrl != null" >
        TAG_IMAGE_URL = #{tagImageUrl,jdbcType=VARCHAR},
      </if>
      <if test="tagRecommend != null" >
        TAG_RECOMMEND = #{tagRecommend,jdbcType=INTEGER},
      </if>
      <if test="tagColor != null" >
        TAG_COLOR = #{tagColor,jdbcType=VARCHAR},
      </if>
      <if test="tagInitial != null" >
        TAG_INITIAL = #{tagInitial,jdbcType=VARCHAR},
      </if>
    </set>
    where TAG_ID = #{tagId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.culturecloud.model.bean.common.CmsTag" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 16:42:06 CST 2016.
    -->
    update cms_tag
    set TAG_NAME = #{tagName,jdbcType=VARCHAR},
      TAG_TYPE = #{tagType,jdbcType=VARCHAR},
      TAG_SEARCH_STR = #{tagSearchStr,jdbcType=VARCHAR},
      TAG_CREATE_USER = #{tagCreateUser,jdbcType=VARCHAR},
      TAG_CREATE_TIME = #{tagCreateTime,jdbcType=TIMESTAMP},
      TAG_UPDATE_USER = #{tagUpdateUser,jdbcType=VARCHAR},
      TAG_UPDATE_TIME = #{tagUpdateTime,jdbcType=TIMESTAMP},
      TAG_DEPT = #{tagDept,jdbcType=VARCHAR},
      TAG_IS_DELETE = #{tagIsDelete,jdbcType=INTEGER},
      TAG_IMAGE_URL = #{tagImageUrl,jdbcType=VARCHAR},
      TAG_RECOMMEND = #{tagRecommend,jdbcType=INTEGER},
      TAG_COLOR = #{tagColor,jdbcType=VARCHAR},
      TAG_INITIAL = #{tagInitial,jdbcType=VARCHAR}
    where TAG_ID = #{tagId,jdbcType=VARCHAR}
  </update>
  
  <!-- app获取首页活动类型标签列表 -->
    <select id="queryActivityTagByDictCode" resultMap="BaseResultMap" parameterType="java.lang.String">
		SELECT t.TAG_NAME, t.TAG_ID, t.TAG_IMAGE_URL
		FROM sys_dict s
		LEFT JOIN cms_tag t ON t.TAG_TYPE = s.DICT_ID
		WHERE 1 = 1
		AND s.DICT_CODE =#{dictCode}
		AND s.DICT_STATE =1
		AND t.TAG_RECOMMEND=1
		AND t.TAG_IS_DELETE=1
		GROUP BY t.TAG_ID
		ORDER BY t.TAG_CREATE_TIME DESC
	</select>
</mapper>