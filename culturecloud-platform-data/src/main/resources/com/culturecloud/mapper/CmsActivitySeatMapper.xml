<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.culturecloud.dao.activity.CmsActivitySeatMapper" >
  <resultMap id="BaseResultMap" type="com.culturecloud.model.bean.activity.CmsActivitySeat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    <id column="ACTIVITY_SEAT_ID" property="activitySeatId" jdbcType="VARCHAR" />
    <result column="SEAT_PRICE" property="seatPrice" jdbcType="DECIMAL" />
    <result column="SEAT_STATUS" property="seatStatus" jdbcType="INTEGER" />
    <result column="SEAT_IS_SOLD" property="seatIsSold" jdbcType="INTEGER" />
    <result column="TICKET" property="ticket" jdbcType="INTEGER" />
    <result column="ACTIVITY_ID" property="activityId" jdbcType="VARCHAR" />
    <result column="EVENT_ID" property="eventId" jdbcType="VARCHAR" />
    <result column="SEAT_ROW" property="seatRow" jdbcType="INTEGER" />
    <result column="SEAT_COLUMN" property="seatColumn" jdbcType="INTEGER" />
    <result column="SEAT_AREA" property="seatArea" jdbcType="VARCHAR" />
    <result column="SEAT_CODE" property="seatCode" jdbcType="VARCHAR" />
    <result column="SEAT_CREATE_USER" property="seatCreateUser" jdbcType="VARCHAR" />
    <result column="SEAT_UPDATE_USER" property="seatUpdateUser" jdbcType="VARCHAR" />
    <result column="SEAT_CREATE_TIME" property="seatCreateTime" jdbcType="TIMESTAMP" />
    <result column="SEAT_UPDATE_TIME" property="seatUpdateTime" jdbcType="TIMESTAMP" />
    <result column="SEAT_ID" property="seatId" jdbcType="VARCHAR" />
    <result column="SEAT_VAL" property="seatVal" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    ACTIVITY_SEAT_ID, SEAT_PRICE, SEAT_STATUS, SEAT_IS_SOLD, TICKET, ACTIVITY_ID, EVENT_ID, 
    SEAT_ROW, SEAT_COLUMN, SEAT_AREA, SEAT_CODE, SEAT_CREATE_USER, SEAT_UPDATE_USER, 
    SEAT_CREATE_TIME, SEAT_UPDATE_TIME, SEAT_ID, SEAT_VAL
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from cms_activity_seat
    where ACTIVITY_SEAT_ID = #{activitySeatId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    delete from cms_activity_seat
    where ACTIVITY_SEAT_ID = #{activitySeatId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.culturecloud.model.bean.activity.CmsActivitySeat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    insert into cms_activity_seat (ACTIVITY_SEAT_ID, SEAT_PRICE, SEAT_STATUS, 
      SEAT_IS_SOLD, TICKET, ACTIVITY_ID, 
      EVENT_ID, SEAT_ROW, SEAT_COLUMN, 
      SEAT_AREA, SEAT_CODE, SEAT_CREATE_USER, 
      SEAT_UPDATE_USER, SEAT_CREATE_TIME, SEAT_UPDATE_TIME, 
      SEAT_ID, SEAT_VAL)
    values (#{activitySeatId,jdbcType=VARCHAR}, #{seatPrice,jdbcType=DECIMAL}, #{seatStatus,jdbcType=INTEGER}, 
      #{seatIsSold,jdbcType=INTEGER}, #{ticket,jdbcType=INTEGER}, #{activityId,jdbcType=VARCHAR}, 
      #{eventId,jdbcType=VARCHAR}, #{seatRow,jdbcType=INTEGER}, #{seatColumn,jdbcType=INTEGER}, 
      #{seatArea,jdbcType=VARCHAR}, #{seatCode,jdbcType=VARCHAR}, #{seatCreateUser,jdbcType=VARCHAR}, 
      #{seatUpdateUser,jdbcType=VARCHAR}, #{seatCreateTime,jdbcType=TIMESTAMP}, #{seatUpdateTime,jdbcType=TIMESTAMP}, 
      #{seatId,jdbcType=VARCHAR}, #{seatVal,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.culturecloud.model.bean.activity.CmsActivitySeat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    insert into cms_activity_seat
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="activitySeatId != null" >
        ACTIVITY_SEAT_ID,
      </if>
      <if test="seatPrice != null" >
        SEAT_PRICE,
      </if>
      <if test="seatStatus != null" >
        SEAT_STATUS,
      </if>
      <if test="seatIsSold != null" >
        SEAT_IS_SOLD,
      </if>
      <if test="ticket != null" >
        TICKET,
      </if>
      <if test="activityId != null" >
        ACTIVITY_ID,
      </if>
      <if test="eventId != null" >
        EVENT_ID,
      </if>
      <if test="seatRow != null" >
        SEAT_ROW,
      </if>
      <if test="seatColumn != null" >
        SEAT_COLUMN,
      </if>
      <if test="seatArea != null" >
        SEAT_AREA,
      </if>
      <if test="seatCode != null" >
        SEAT_CODE,
      </if>
      <if test="seatCreateUser != null" >
        SEAT_CREATE_USER,
      </if>
      <if test="seatUpdateUser != null" >
        SEAT_UPDATE_USER,
      </if>
      <if test="seatCreateTime != null" >
        SEAT_CREATE_TIME,
      </if>
      <if test="seatUpdateTime != null" >
        SEAT_UPDATE_TIME,
      </if>
      <if test="seatId != null" >
        SEAT_ID,
      </if>
      <if test="seatVal != null" >
        SEAT_VAL,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="activitySeatId != null" >
        #{activitySeatId,jdbcType=VARCHAR},
      </if>
      <if test="seatPrice != null" >
        #{seatPrice,jdbcType=DECIMAL},
      </if>
      <if test="seatStatus != null" >
        #{seatStatus,jdbcType=INTEGER},
      </if>
      <if test="seatIsSold != null" >
        #{seatIsSold,jdbcType=INTEGER},
      </if>
      <if test="ticket != null" >
        #{ticket,jdbcType=INTEGER},
      </if>
      <if test="activityId != null" >
        #{activityId,jdbcType=VARCHAR},
      </if>
      <if test="eventId != null" >
        #{eventId,jdbcType=VARCHAR},
      </if>
      <if test="seatRow != null" >
        #{seatRow,jdbcType=INTEGER},
      </if>
      <if test="seatColumn != null" >
        #{seatColumn,jdbcType=INTEGER},
      </if>
      <if test="seatArea != null" >
        #{seatArea,jdbcType=VARCHAR},
      </if>
      <if test="seatCode != null" >
        #{seatCode,jdbcType=VARCHAR},
      </if>
      <if test="seatCreateUser != null" >
        #{seatCreateUser,jdbcType=VARCHAR},
      </if>
      <if test="seatUpdateUser != null" >
        #{seatUpdateUser,jdbcType=VARCHAR},
      </if>
      <if test="seatCreateTime != null" >
        #{seatCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="seatUpdateTime != null" >
        #{seatUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="seatId != null" >
        #{seatId,jdbcType=VARCHAR},
      </if>
      <if test="seatVal != null" >
        #{seatVal,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.culturecloud.model.bean.activity.CmsActivitySeat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    update cms_activity_seat
    <set >
      <if test="seatPrice != null" >
        SEAT_PRICE = #{seatPrice,jdbcType=DECIMAL},
      </if>
      <if test="seatStatus != null" >
        SEAT_STATUS = #{seatStatus,jdbcType=INTEGER},
      </if>
      <if test="seatIsSold != null" >
        SEAT_IS_SOLD = #{seatIsSold,jdbcType=INTEGER},
      </if>
      <if test="ticket != null" >
        TICKET = #{ticket,jdbcType=INTEGER},
      </if>
      <if test="activityId != null" >
        ACTIVITY_ID = #{activityId,jdbcType=VARCHAR},
      </if>
      <if test="eventId != null" >
        EVENT_ID = #{eventId,jdbcType=VARCHAR},
      </if>
      <if test="seatRow != null" >
        SEAT_ROW = #{seatRow,jdbcType=INTEGER},
      </if>
      <if test="seatColumn != null" >
        SEAT_COLUMN = #{seatColumn,jdbcType=INTEGER},
      </if>
      <if test="seatArea != null" >
        SEAT_AREA = #{seatArea,jdbcType=VARCHAR},
      </if>
      <if test="seatCode != null" >
        SEAT_CODE = #{seatCode,jdbcType=VARCHAR},
      </if>
      <if test="seatCreateUser != null" >
        SEAT_CREATE_USER = #{seatCreateUser,jdbcType=VARCHAR},
      </if>
      <if test="seatUpdateUser != null" >
        SEAT_UPDATE_USER = #{seatUpdateUser,jdbcType=VARCHAR},
      </if>
      <if test="seatCreateTime != null" >
        SEAT_CREATE_TIME = #{seatCreateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="seatUpdateTime != null" >
        SEAT_UPDATE_TIME = #{seatUpdateTime,jdbcType=TIMESTAMP},
      </if>
      <if test="seatId != null" >
        SEAT_ID = #{seatId,jdbcType=VARCHAR},
      </if>
      <if test="seatVal != null" >
        SEAT_VAL = #{seatVal,jdbcType=VARCHAR},
      </if>
    </set>
    where ACTIVITY_SEAT_ID = #{activitySeatId,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.culturecloud.model.bean.activity.CmsActivitySeat" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jul 25 14:56:35 CST 2016.
    -->
    update cms_activity_seat
    set SEAT_PRICE = #{seatPrice,jdbcType=DECIMAL},
      SEAT_STATUS = #{seatStatus,jdbcType=INTEGER},
      SEAT_IS_SOLD = #{seatIsSold,jdbcType=INTEGER},
      TICKET = #{ticket,jdbcType=INTEGER},
      ACTIVITY_ID = #{activityId,jdbcType=VARCHAR},
      EVENT_ID = #{eventId,jdbcType=VARCHAR},
      SEAT_ROW = #{seatRow,jdbcType=INTEGER},
      SEAT_COLUMN = #{seatColumn,jdbcType=INTEGER},
      SEAT_AREA = #{seatArea,jdbcType=VARCHAR},
      SEAT_CODE = #{seatCode,jdbcType=VARCHAR},
      SEAT_CREATE_USER = #{seatCreateUser,jdbcType=VARCHAR},
      SEAT_UPDATE_USER = #{seatUpdateUser,jdbcType=VARCHAR},
      SEAT_CREATE_TIME = #{seatCreateTime,jdbcType=TIMESTAMP},
      SEAT_UPDATE_TIME = #{seatUpdateTime,jdbcType=TIMESTAMP},
      SEAT_ID = #{seatId,jdbcType=VARCHAR},
      SEAT_VAL = #{seatVal,jdbcType=VARCHAR}
    where ACTIVITY_SEAT_ID = #{activitySeatId,jdbcType=VARCHAR}
  </update>

  <!-- 根据活动id  和 seatCode  查询seatVal; -->
  <select id="querySeatValByMap" resultMap="BaseResultMap" parameterType="hashmap">
    SELECT *
    FROM cms_activity_seat a
    WHERE 1=1
    <if test="activityId != null">
      AND a.ACTIVITY_ID = #{activityId}
    </if>
    <if test="eventId != null">
      AND a.EVENT_ID = #{eventId}
    </if>
    <if test="seatRow != null">
      AND a.SEAT_ROW in (#{seatRow,jdbcType=INTEGER})
    </if>
    <if test="seatColumn != null">
      AND a.SEAT_COLUMN = #{seatColumn,jdbcType=INTEGER}
    </if>
    <if test="seatCode != null">
      AND a.SEAT_CODE = #{seatCode}
    </if>
    <if test="seatVal!= null">
      AND a.SEAT_VAL = #{seatVal}
    </if>
    limit 0,1
  </select>
</mapper>